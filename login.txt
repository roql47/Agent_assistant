
<!DOCTYPE html>
<html>
	<head id="Head1"><title>
	CAUHS
</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link type="text/css" rel="stylesheet" href="/Images/css/login.css?v=20250402_2" />
<link type="text/css" rel="stylesheet" href="/WebSite/Base/Controls/jquery.selectbox.css?v=20250402_2" />
<link type="text/css" rel="stylesheet" href="/WebSite/Base/Controls/Covi.Framework.Style.Controls.css?v=20250402_2" />
<link type="text/css" rel="stylesheet" href="/WebSite/Common/Controls/jquery.mCustomScrollbar.css?v=20250402_2" />
<link type="text/css" rel="stylesheet" href="/Images/Css/slick.css?v=20250402_2" />
<script type="text/javascript" src="/WebSite/Base/Controls/Security/Crypto.js?v=20250905_1"></script>
<script type="text/javascript" src="/WebSite/Base/Controls/Jquery-last.js?v=20250905_1"></script>
<script type="text/javascript" src="/WebSite/Base/Controls/jquery-ui-1.12.1.min.js?v=20250905_1"></script>
<script type="text/javascript" src="/WebSite/Base/Controls/jquery.selectbox-0.6.1.js?v=20250905_1"></script>
<script type="text/javascript" src="/WebSite/Base/Controls/Covi.Framework.Script.Const.js?v=20250905_1"></script>
<script type="text/javascript" src="/WebSite/Base/Controls/Covi.Framework.Script.Common.js?v=20250905_1"></script>
<script type="text/javascript" src="/WebSite/Base/Controls/Covi.Framework.Script.Utils.js?v=20250905_1"></script>
<script type="text/javascript" src="/WebSite/Common/Controls/jquery.mCustomScrollbar.concat.min.js?v=20250905_1"></script>
<script type="text/javascript" src="/Images/Js/slick.min.js?v=20250905_1"></script>
<link rel="shortcut icon" type="image/x-icon" href="/Images/favicon.ico" />
        <style>
            .pop_infosearch_mgt {
                padding: 23px 20px;
                box-sizing: border-box;
            }
            .pop_infosearch_mgt .ht_tab_wrap {
                clear: both;
                width: 100%;
                height: 56px;
            }
            .pop_infosearch_mgt .ht_tab_wrap a {
                float: left;
                display: inline-block;
                width: 50%;
                height: 36px;
                line-height: 34px;
                font-size: 13px;
                box-sizing: border-box;
                text-align: center;
                text-decoration: none;
            }
            .pop_infosearch_mgt .ht_tab_wrap a.ht_tab_on {
                font-weight:bold;border-left:1px solid #707070;border-right:1px solid #707070;border-top:2px solid #B10036;
            }
            .pop_infosearch_mgt .ht_tab_wrap a.ht_tab_off {
                font-weight:normal;border-left:1px solid #d1d1d1;border-bottom:1px solid #707070;color:#999;
            }
            .pop_infosearch_mgt .ht_tab_wrap a:nth-child(2).ht_tab_off {
                border-left:none;
            }
            .pop_infosearch_mgt .ht_tab_wrap a:nth-child(1).ht_tab_off {
                border-right:none;
            }
            .pop_infosearch_mgt th, td {
               border:1px solid #d4d4d4;
               height:45px;
               padding:5px;
            }
            .pop_btn2 {
                margin-top: 20px;
            }
        </style>
	</head>
    
	<body>
     <script type="text/javascript" lang="javascript">
        
		    var _sCultureSelected = "LOGIN";
		    var _sMobileCheck = "N";

		    //======================================================================================
		    // Event
		    //======================================================================================

            //==========================================
            // PC 로그-인
         //==========================================
         $(function() {
             $('.login_bg').slick({
                 arrows: false,
                 fade: true,
                 cssEase: 'linear',
                 autoplay: true,
                 autoplaySpeed : 5000,
                 pauseOnFocus : false,
                 pauseOnHover : false,
                 swipe:false,
                 touchMove:false,
             });
         });

		    function btnPC_Login_Click() {
		        var sLoginID = $("#txtPC_LoginID").val();
		        var sLoginPW = $("#txtPC_LoginPW").val();
		        var sLanguage = $("#ddlPC_Language").val();

		        if (!bool_CheckID(sLoginID, sLanguage)) {
		            $("#txtPC_LoginID").focus();
		            return;
		        }
		        if (!bool_CheckPW(sLoginPW, sLanguage)) {
		            $("#txtPC_LoginPWTemp").focus();
		            return;
		        }		        

		        if ($("#ddlPC_Language").val() == "ko"){
		            Common.Progress("로그인 중입니다! 잠시만 기다려주세요.", StartPCLogin, 10);
		        } else if ($("#ddlPC_Language").val() == "en"){
		            Common.Progress("During login! Please wait.", StartPCLogin, 10);
		        } else if ($("#ddlPC_Language").val() == "ja"){
		            Common.Progress("ログイン ！お待ちください。", StartPCLogin, 10);
		        } else if ($("#ddlPC_Language").val() == "zh"){
		            Common.Progress("期间登录 ！请稍候。", StartPCLogin, 10);
		        } else {
		            Common.Progress("로그인 중입니다! 잠시만 기다려주세요.", StartPCLogin, 10);
		        }
                // 화면잠금 해지
		        if (window.localStorage.getItem("ScreenLock" + $("#txtPC_LoginID").val().toLowerCase()) != undefined) {
		            window.localStorage.removeItem("ScreenLock" + $("#txtPC_LoginID").val().toLowerCase());
		        }
		    }
         
            // PC 로그인 수행
            function StartPCLogin() {
                var sLoginID = $("#txtPC_LoginID").val();
		        var sLoginPW = $("#txtPC_LoginPW").val();
		        var sLanguage = $("#ddlPC_Language").val();
                // ID 저장 체크 여부에 따른 쿠키 생성
			    var dtExpires = new Date();
			    if ($("#chkPC_SavedInfo").is(":checked")) {
			        dtExpires.setDate(dtExpires.getDate() + 30);
			        CFN_SetCookieDate("LOGINID", $("#txtPC_LoginID").val(), dtExpires);
			        CFN_SetCookieDate("LANG", $("#ddlPC_Language").val(), dtExpires);
			    } else {
			        dtExpires.setDate(dtExpires.getDate() - 30);
			        CFN_SetCookieDate("LOGINID", $("#txtPC_LoginID").val(), dtExpires);
			        CFN_SetCookieDate("LANG", $("#ddlPC_Language").val(), dtExpires);
			    }
			    
                
                    //AES 암호화
                    if( '1' == '0') {
                        if (!AES_Encrypt()) return;
                    }
                    //RSA 암호화
                    else if( '1' == '1'){
                        var doOaepPadding = true;
                        var xmlParams = GetRSAPubKey();
                        if (xmlParams == "") {
                            Common.Warning("<br/><br/>재 시도 하여 주시기 바랍니다.<br/>(Please try the ashes.)<br/>해당현상이 지속적으로 발생 할 경우 관리자에게 문의하십시요.<br/>(If the symptoms do occur on an ongoing basis, please contact your administrator.)");
                            return;
                        }
                        var rsa = new System.Security.Cryptography.RSACryptoServiceProvider();
                        rsa.FromXmlString(xmlParams);
                        var decryptedBytes = System.Text.Encoding.UTF8.GetBytes($("#txtPC_LoginPW").val());
                        var encryptedBytes = rsa.Encrypt(decryptedBytes, doOaepPadding);
                        $("#txtPC_LoginPW").val(System.Convert.ToBase64String(encryptedBytes));
                    }
                    $("#btnPC_Login").click();  
                
            }
            
            //==========================================
            // Mobile 로그-인
            //==========================================
            //[Hybrid] 변수
            //앱으로부터의 반환값에 대한 변수(들)을 추가함.
            var sgHybRet = null, sgHybLogin = false;

            function btnM_Login_Click() {
                var sLoginID = $("#txtM_LoginID").val();
                var sLoginPW = $("#txtM_LoginPW").val();
                var sLanguage = $("#ddlM_Language").val();

                if (!bool_CheckID(sLoginID, sLanguage)) {
                    $("#txtM_LoginID").focus();
                    return;
                }
                if (!bool_CheckPW(sLoginPW, sLanguage)) {
                    $("#txtM_LoginPWTemp").focus();
                    return;
                }
                
                // ID 저장 체크 여부에 따른 쿠키 생성
                var dtExpires = new Date();
                if ($("#chkM_SavedInfo").is(":checked")) {
                    dtExpires.setDate(dtExpires.getDate() + 30);
                    CFN_SetCookieDate("LOGINID", $("#txtM_LoginID").val(), dtExpires);
                    CFN_SetCookieDate("LANG", $("#ddlM_Language").val(), dtExpires);
                } else {
                    dtExpires.setDate(dtExpires.getDate() - 30);
                    CFN_SetCookieDate("LOGINID", $("#txtM_LoginID").val(), dtExpires);
                    CFN_SetCookieDate("LANG", $("#ddlM_Language").val(), dtExpires);
                }

                //[Hybrid] - 로그인 아이디 단일화 체크 && (Android) 메일 첨부 확인용 ID & 다국어 설정 추가
                var bUidBindchk = false;
                try {
                    if (navigator.userAgent.toString().indexOf("COVI_HYBRID", 0) > -1) {
                        if (_android) {
                            bUidBindchk = window.HybridApp.GetUidBindChk(sLoginID);

                            window.HybridApp.SetLoginIDLanguage(sLoginID, sLanguage);
                        }
                        else if (_ipad || _iphone) {
                            try {
                                window.webkit.messageHandlers.covicallhandler.postMessage({type:"chkid",value:sLoginID});
                            } catch (e) {
                                window.location = "chkid://" + (sLoginID);
                            }
                        }
                    }else{
                        bUidBindchk = true;
                    }
                }
                catch (e) {
                }
                //[Hybrid]

                //[Hybrid] - 2015/11/30 앱 언어설정 연동 추가 LHW
                try {
                    if (navigator.userAgent.toString().indexOf("COVI_HYBRID", 0) > -1) {
                        //android
                        if (_android) {
                            window.HybridApp.SetAppLang($("#ddlM_Language").val());
                        }
                    }
                }
                catch (e) {
                }
                //[Hybrid]

                //[Hybrid]
                try {
                    if (navigator.userAgent.toString().indexOf("COVI_HYBRID", 0) > -1) {
                        //android
                        if (_android) {
                            AppHash_Receiver(window.HybridApp.GetAndroidHash());
                        }
                    }
                }
                catch (e) {
                }
                //[Hybrid]

                if(bUidBindchk)	{
                    if ($("#ddlM_Language").val() == "ko") {
                        Common.Progress("로그인 중입니다! 잠시만 기다려주세요.", StartMobileLogin, 10);
                    } else if ($("#ddlM_Language").val() == "en") {
                        Common.Progress("During login! Please wait.", StartMobileLogin, 10);
                    } else if ($("#ddlM_Language").val() == "ja") {
                        Common.Progress("ログイン ！お待ちください。", StartMobileLogin, 10);
                    } else if ($("#ddlM_Language").val() == "zh") {
                        Common.Progress("期间登录 ！请稍候。", StartMobileLogin, 10);
                    } else {
                        Common.Progress("로그인 중입니다! 잠시만 기다려주세요.", StartMobileLogin, 10);
                    }
                }
            }

            function StartMobileLogin() {
                
                    $("#btnM_Login").click(); 
                
            }

            //[Hybrid]
			function uidBindChk_Yes()
			{
				$("#btnM_Login").click();
			}

			function uidBindChk_No()
			{
				 Common.Warning('로그인 아이디 단일화 정책 위배. 관리자에게 문의하세요.');
			}

            function AppHash_Receiver(pAppHashParam) {
                $("#hidAppHashValue").val(pAppHashParam);
            }

            function SetLoginLang(language) {
                $("#ddlM_Language").val(language);
            }

            //[Hybrid]
            //==========================================
            // OTP 인증
            //==========================================
            // 인증번호 확인
			function btnOTP_Login_Click() {
			    var sLoginOTP = $("#txtM_LoginOTP").val();
			    var sLanguage = $("#ddlM_Language").val();

			    if (sLoginOTP == "") {
			        if (sLanguage.indexOf("ko") >= 0) {
			            Common.Warning("인증번호를 입력하여 주십시오.");
			        } else if (sLanguage.indexOf("en") >= 0) {
			            Common.Warning("Please enter your Authentication.");
			        } else if (sLanguage.indexOf("ja") >= 0) {
			            Common.Warning("인증번호を入力してください。");
			        } else if (sLanguage.indexOf("zh") >= 0) {
			            Common.Warning("请输入您的인증번호。");
			        }
                    return;
			    }
                Common.Progress("로그인 중입니다! 잠시만 기다려주세요.");
			    $("#btnOTP_Login").click();
            }
            
            // 인증번호 재 발급
            function btnOTP_ReSend_Click() {
                var sLogonID = $("#txtM_LoginID").val();
                var oResult = CFN_CallAjaxJson("/WebSite/Mobile/Controls/MobileWebService.asmx/SetReAuthenticationNumber", "{pStrLogonID:'" + sLogonID + "'}", false, null);
                try{
                    var oXml = $($.parseXML($.parseJSON(oResult).d));
                    var bSucces = eval(oXml.find("Result").text());
                    var sResult = oXml.find("Reason").text();
                    if (bSucces) {
                        $("#txtM_LoginOTP").val(sResult);
                    } else {
                        Common.Error("알 수 없는 애러가 발생하였습니다. 관리자에게 문의하세요.<br />" + sResult);
                    }
                } catch(ex) {
                    alert($.parseJSON(oResult).Message);
                    $("#txtM_LoginOTP").focus();
                }
            }

            // 취소
            function btnOTP_Cancel_Click() {
                document.location.href = "/WebSite/Login.aspx";
            }

            //======================================================================================
            // Method
            //======================================================================================
            // 아이디 입력 확인
            function bool_CheckID(pStrLoginID, pStrLoginLanguage) {
                var bReturn = false;
			    if ((pStrLoginID == "아이디") ||
                    (pStrLoginID == "")) {
			        if (_sMobileCheck == 'Y') {
						if (pStrLoginLanguage.indexOf("ko") >= 0) {
							alert("아이디를 입력하여 주십시오.");
						} else if (pStrLoginLanguage.indexOf("en") >= 0) {
							alert("Please enter your ID.");
						} else if (pStrLoginLanguage.indexOf("ja") >= 0) {
							alert("あなたの ID を入力してください。");
						} else if (pStrLoginLanguage.indexOf("zh") >= 0) {
							alert("请输入您的 ID。");
						} else {
							alert("Please enter your ID.");
						}
					} else {
						if (pStrLoginLanguage.indexOf("ko") >= 0) {
							Common.Warning("아이디를 입력하여 주십시오.");
						} else if (pStrLoginLanguage.indexOf("en") >= 0) {
							Common.Warning("Please enter your ID.");
						} else if (pStrLoginLanguage.indexOf("ja") >= 0) {
							Common.Warning("あなたの ID を入力してください。");
						} else if (pStrLoginLanguage.indexOf("zh") >= 0) {
							Common.Warning("请输入您的 ID。");
						}
					}
			    } else {
			        bReturn = true;
                }
                return bReturn;
            }
            
            // 비밀번호 입력 확인
            function bool_CheckPW(pStrLoginPW, pStrLoginLanguage) {
                var bReturn = false;
			    if (pStrLoginPW == "") {
			        if (_sMobileCheck == 'Y') {
						if (pStrLoginLanguage.indexOf("ko") >= 0) {
							alert("비밀번호를 입력하여 주십시오.");
						} else if (pStrLoginLanguage.indexOf("en") >= 0) {
							alert("Please enter your password.");
						} else if (pStrLoginLanguage.indexOf("ja") >= 0) {
							alert("あなたのパスワードを入力してください。");
						} else if (pStrLoginLanguage.indexOf("zh") >= 0) {
							alert("请输入您的密码。");
						} else {
							alert("Please enter your password.");
						}
					} else {
						if (pStrLoginLanguage.indexOf("ko") >= 0) {
							Common.Warning("비밀번호를 입력하여 주십시오.");
						} else if (pStrLoginLanguage.indexOf("en") >= 0) {
							Common.Warning("Please enter your password.");
						} else if (pStrLoginLanguage.indexOf("ja") >= 0) {
							Common.Warning("あなたのパスワードを入力してください。");
						} else if (pStrLoginLanguage.indexOf("zh") >= 0) {
							Common.Warning("请输入您的密码。");
						}
					}
			    } else {
			        bReturn = true;
                }
                return bReturn;
            }
            
		    // PC 사용시 로그인 페이지 초기화
            function LoginFormPC_Setting() {
                // EnterKey 입력시 로그인 실행
		        $("#txtPC_LoginID").keypress(function (event) { if (event.which == 13) { if ($("#txtPC_LoginID").val() != "") { $("#txtPC_LoginPWTemp").focus(); } return false; } });
		        $("#txtPC_LoginPW").keypress(function (event) { if (event.which == 13) { if ($("#txtPC_LoginPW").val() != "") { btnPC_Login_Click(); } return false; } });

                // 아이디, 비밀번호 텍스트 제거를 위한 이벤트 설정
				$("#txtPC_LoginID").focus(function () { if ($("#txtPC_LoginID").val() == "아이디") { $("#txtPC_LoginID").val(""); } });
				$("#txtPC_LoginID").blur(function () { if ($("#txtPC_LoginID").val() == "") { $("#txtPC_LoginID").val("아이디"); } });
				$("#txtPC_LoginPWTemp").focus(function () { $("#txtPC_LoginPWTemp").attr("class", "login_input_hidden"); $("#txtPC_LoginPW").attr("class", "login_input"); $("#txtPC_LoginPW").focus(); });
				$("#txtPC_LoginPW").blur(function () { if ($("#txtPC_LoginPW").val() == "") { $("#txtPC_LoginPW").attr("class", "login_input_hidden"); $("#txtPC_LoginPWTemp").attr("class", "login_input"); } });
				
                // 언어 설정
				if (_sCultureSelected != "LOGIN") {
				    $("#divPC_Language").css({ "display": "none" });
				}

                // 쿠키 확인
				var sLanguage = CFN_GetCookie("LANG");
				var sLoginID = CFN_GetCookie("LOGINID");
				if ((sLanguage == "") && (sLoginID == "")) {
				    $("#chkPC_SavedInfo").prop("checked", false);

				    var sBrowserLanguage = "";
				    if (_ie) { sBrowserLanguage = navigator.browserLanguage } else { sBrowserLanguage = navigator.language };

                    if (sBrowserLanguage.indexOf("ko") > -1) {
                        $("#ddlPC_Language").val("ko");
                    } else if (sBrowserLanguage.indexOf("ja") > -1) {
                        $("#ddlPC_Language").val("ja");
                    } else if (sBrowserLanguage.indexOf("zn") > -1) {
                        $("#ddlPC_Language").val("zn");
                    } else if (sBrowserLanguage.indexOf("en") > -1) {
                        $("#ddlPC_Language").val("en");
                    }
				} else {
				    $("#chkPC_SavedInfo").prop("checked", true);
				    $("#ddlPC_Language").val(sLanguage);
				}

                // 마지막 저장한 로그인 방식으로 유지
                

				if (sLoginID != "") {
				    $("#txtPC_LoginID").val(sLoginID);
				    $("#txtPC_LoginPWTemp").focus();
				} else {
				    $("#txtPC_LoginID").focus();
                }                
            }

		    // Mobile 사용시 로그인 페이지 초기화
            function LoginFormM_Setting() {
                // EnterKey 입력시 로그인 실행
		        $("#txtM_LoginID").keypress(function (event) { if (event.which == 13) { if ($("#txtM_LoginID").val() != "") { $("#txtM_LoginPWTemp").focus(); } return false; } });
		        $("#txtM_LoginPW").keypress(function (event) { if (event.which == 13) { if ($("#txtM_LoginPW").val() != "") { btnM_Login_Click(); } return false; } });

                // 아이디, 비밀번호 텍스트 제거를 위한 이벤트 설정
				$("#txtM_LoginID").focus(function () { if ($("#txtM_LoginID").val() == "아이디") { $("#txtM_LoginID").val(""); } });
				$("#txtM_LoginID").blur(function () { if ($("#txtM_LoginID").val() == "") { $("#txtM_LoginID").val("아이디"); } });
				$("#txtM_LoginPWTemp").focus(function () { $("#txtM_LoginPWTemp").css({"display": "none"}); $("#txtM_LoginPW").css({"display": ""}); $("#txtM_LoginPW").focus(); });
				$("#txtM_LoginPW").blur(function () { if ($("#txtM_LoginPW").val() == "") { $("#txtM_LoginPW").css({"display": "none"}); $("#txtM_LoginPWTemp").css({"display": ""}); } });
				
                // 언어 설정
				if (_sCultureSelected != "LOGIN") {
				    $("#divM_Language").css({ "display": "none" });
				}

                // 쿠키 확인
				var sLanguage = CFN_GetCookie("LANG");
				var sLoginID = CFN_GetCookie("LOGINID");
				if ((sLanguage == "") && (sLoginID == "")) {
				    $("#chkM_SavedInfo").prop("checked", false);
                    
				    var sBrowserLanguage = "";
				    if (_ie) { sBrowserLanguage = navigator.browserLanguage } else { sBrowserLanguage = navigator.language };

                    if (sBrowserLanguage.indexOf("ko") > -1) {
                        $("#ddlPC_Language").val("ko");
                    } else if (sBrowserLanguage.indexOf("ja") > -1) {
                        $("#ddlPC_Language").val("ja");
                    } else if (sBrowserLanguage.indexOf("zn") > -1) {
                        $("#ddlPC_Language").val("zn");
                    } else if (sBrowserLanguage.indexOf("en") > -1) {
                        $("#ddlPC_Language").val("en");
                    }
				} else {
				    $("#chkM_SavedInfo").prop("checked", true);
				    $("#ddlM_Language").val(sLanguage);
				}

				$("#txtM_LoginPW").focus();
				if (sLoginID != "") {
				    $("#txtM_LoginID").val(sLoginID);
				    $("#txtM_LoginPWTemp").focus();
				} else {
				    $("#txtM_LoginID").focus();
				}
            }
            
		    // 인증번호 확인 초기화
            function LoginFormOTP_Setting() {
                // EnterKey 입력시 로그인 실행
		        $("#txtM_LoginOTP").keypress(function (event) { if (event.which == 13) { if ($("#txtM_LoginOTP").val() != "") { btnOTP_Login_Click(); } return false; } });

                // 쿠키 확인
				var sLanguage = CFN_GetCookie("LANG");
				var sLoginID = CFN_GetCookie("LOGINID");
				if ((sLanguage == "") && (sLoginID == "")) {
				    $("#chkM_SavedInfo").prop("checked", false);
                    
				    var sBrowserLanguage = "";
				    if (_ie) { sBrowserLanguage = navigator.browserLanguage } else { sBrowserLanguage = navigator.language };

                    if (sBrowserLanguage.indexOf("ko") > -1) {
                        $("#ddlPC_Language").val("ko");
                    } else if (sBrowserLanguage.indexOf("ja") > -1) {
                        $("#ddlPC_Language").val("ja");
                    } else if (sBrowserLanguage.indexOf("zn") > -1) {
                        $("#ddlPC_Language").val("zn");
                    } else if (sBrowserLanguage.indexOf("en") > -1) {
                        $("#ddlPC_Language").val("en");
                    }
				} else {
				    $("#chkM_SavedInfo").prop("checked", true);
				    $("#ddlM_Language").val(sLanguage);
				}

				$("#txtM_LoginOTP").focus();
            }

		    // 페이지 로드에 따른 화면 표시
		    $(window).load(function () {
                var l_userAgentInfo = ""; // 접속  브라우져 정보 ; 해상도 ; HTML5 지원여부 ; OS(모바일여부) ;
                // 브라우져
                if (_ie) { l_userAgentInfo = l_userAgentInfo + "IE" + _ieVer + ";" }
                else if (_firefox) { l_userAgentInfo = l_userAgentInfo + "Firefox;" }
                else if (_safari) { l_userAgentInfo = l_userAgentInfo + "Safari;" }
                else if (_chrome) { l_userAgentInfo = l_userAgentInfo + "Chrome;" }
                else if (_opera) { l_userAgentInfo = l_userAgentInfo + "Opera;" }
                else if (_android) { l_userAgentInfo = l_userAgentInfo + "Android;" }
                else if (_iphone) { l_userAgentInfo = l_userAgentInfo + "Iphone;" }
                else if (_ipad) { l_userAgentInfo = l_userAgentInfo + "Ipad;" }
                else if (_mac) { l_userAgentInfo = l_userAgentInfo + "Mac;" }
                else { l_userAgentInfo = l_userAgentInfo + "Order;" }
                // 해상도
                l_userAgentInfo = l_userAgentInfo + _screenW + "*" + _screenH + ";"
                // HTML 5지원 여부
                if (_html5) { l_userAgentInfo = l_userAgentInfo + "HTML5;" }
                else { l_userAgentInfo = l_userAgentInfo + "NoHTML5;" }
                // OS
                if (_mobile) { l_userAgentInfo = l_userAgentInfo + _OS + "(Mobile);" }
                else { l_userAgentInfo = l_userAgentInfo + _OS + ";" }
                
                $("#hidUserAgentInfo").val(l_userAgentInfo);

                if (_sMobileCheck == 'Y') {
                    $("#divUseMobile").removeAttr("style");
                    $("#divUsePC").hide();
                    if ($("#txtM_OTP_YN").val() == "Y") {
                        $("#divM_OTP").removeAttr("style");
                        LoginFormOTP_Setting();
                    } else {
                        $("#divM_Login").removeAttr("style");
                        LoginFormM_Setting();
                    }
					var l_warningmessage = "";
					if (l_warningmessage != "") {
						alert(l_warningmessage);
					}
                } else {
                    if (_HostName.toUpperCase() == ("mgw.cauhs.or.kr").toUpperCase()) {
                        $("#divUseMobile").removeAttr("style");
                        if ($("#txtM_OTP_YN").val() == "Y") {
                            $("#divM_OTP").removeAttr("style");
                            LoginFormOTP_Setting();
                        } else {
                            $("#divM_Login").removeAttr("style");
                            LoginFormM_Setting();
                        }
                    } else {
                        $("#divUsePC").removeAttr("style");
                        LoginFormPC_Setting();
                    }
                }

				//[Hybrid] 언어설정 추가
                var sGetAppLang = "ko";
                try {
	                if(navigator.userAgent.toString().indexOf("COVI_HYBRID"), 0 > -1) {
		                if(_android) {
			                bGetAppLang = window.HybridApp.GetAppLang();
			                $("#ddlM_Language").val(bGetAppLang);
		                }
	                }
                }
                catch(e) {
                }


                // 웹메일에서 사용중인 사용자의 세션스토리지 초기화
                window.sessionStorage.removeItem("Mail_MsgFolderRootID");
                window.sessionStorage.removeItem("Mail_BaseFolderInfo");
                window.sessionStorage.removeItem("Mail_AllFolderInfo");
                window.sessionStorage.removeItem("Mail_ArchiveFolderInfo");
                window.sessionStorage.removeItem("Mail_FolderInfoJson_Base");
                window.sessionStorage.removeItem("Mail_FolderInfoJson_All");
                window.sessionStorage.removeItem("Mail_ArchiveFolderInfoJson_All");
            });

            // 메일 인증 처리 
            function DoneMailLogin(){
                
                    if (_HostName.toUpperCase() == ("mgw.cauhs.or.kr").toUpperCase()){
                        $("#btnM_Login").click();
                    } else {
                        $("#btnPC_Login").click();
                    }
                
            }

            // 메일 인증 실패 처리
            function FailMailLogin() {
                if(confirm("메일시스템에 대한 인증을 실패하였습니다. \n메일시스템을 제외하고 로그인 하시겠습니까?"))  {
                    
                        if (_HostName.toUpperCase() == ("mgw.cauhs.or.kr").toUpperCase()){
                            $("#btnM_Login").click();
                        } else {
                            $("#btnPC_Login").click();
                        }
                    
                } else {
                    Common.AlertClose();
                }
            }
            // TwoFactor OneTimePassword Popup
		    function TwoFactorOTP() {
		        Common.ShowDialog("", "TwoFactorOneTimePasswordPopup", "투팩터 인증 팝업", $("#tpl_TwoFactorOTP_body").html(), "350px", "180px", "html");
		    }
		    var SetTwoFactorOneTimePasswordConfirm = function () {
		        var sOTPNumber = $("#txtOTPNumber").val();
		        if (sOTPNumber == "") {
		            parent.Common.Warning("인증번호를 입력하세요.", "Validation Check", function () {
		                $("#txtOTPNumber").focus();
		            });
		            return;
		        }
		        
		        var params = {
		            pOTPNumber: sOTPNumber,
		        };

		        $("#hidOTPAuth").val(JSON.stringify(params));
		        $("#btn_OTPAuth").click();
		    };

		    //비밀번호 재설정 / 아이디찾기 hih 2022.10.27 추가
		    function SetAccessPasswordResetSmsCheck(args) {
		        if (!args) return;
		        Common.Show("", "AccessPasswordResetSmsCheck", "아이디 찾기 / 비밀번호 재설정", $("#tpl_password_reset_sms_body").html(), "520px", "480px", "html");
		    }

		    //비밀번호 재설정 체크
            function SetAccessPasswordResetCheck(args) {
                if (!args) return;
                Common.Show("", "AccessPasswordResetCheck", "비밀번호 재설정", $("#tpl_password_reset_body").html(), "424px", "372px", "html");

                ddl_ValidationChange(document.getElementById("ddlSelectValidationType"));

                var targetObj = $("#txtTargetID");
                var targetObj2 = $("#txtTargetName");
                var targetObj3 = $("#txtTargetMobile");
                var targetObj4 = $("#txtTargetEmail");

                var currentLogonID = $.trim($("#txtPC_LoginID").val());
                if (currentLogonID != "") {
                    targetObj.val(currentLogonID);
                }

                var sSendMedia = "MDM,Mail".toUpperCase();
                var sSendMediaCnt = sSendMedia.split(",").length;

                if (sSendMediaCnt == 1) {

                    if (sSendMedia.indexOf("MDM") > -1) {
                        $("#chkMDM").prop("checked", true);
                    }

                    if (sSendMedia.indexOf("MAIL") > -1) {
                        $("#chkMail").prop("checked", true);
                    }

                    if (sSendMedia.indexOf("SMS") > -1) {
                        $("#chkSMS").prop("checked", true);
                    }
                }

                if (sSendMedia.indexOf("MDM") == -1)
                {
                    $("#spanMDM").attr('style',"display:none;");
                }

                if (sSendMedia.indexOf("MAIL") == -1) {
                    $("#spanMail").attr('style', "display:none;");
                }

                if (sSendMedia.indexOf("SMS") == -1) {
                    $("#spanSMS").attr('style', "display:none;");
                }

                $("#" + targetObj.attr("id") + ", #" + targetObj2.attr("id") + ", #" + targetObj3.attr("id") + ", #" + targetObj4.attr("id")).keydown(function (event) {                
                    if (event.keyCode) {//IE
                        if (event.keyCode == 13) { SetAccessPasswordResetCheckConfirm(); event.preventDefault(); }
                    }
                    else {//cross browser
                        if (event.which == 13) { SetAccessPasswordResetCheckConfirm(); event.preventDefault(); }
                    }
                });
                return;
            }
            
            var SetAccessPasswordResetCheckConfirm = function() {
                var objTargetID = $("#txtTargetID");
                var objTargetName = $("#txtTargetName");
                var objTargetMobile = $("#txtTargetMobile");
                var objTargetEmail = $("#txtTargetEmail");
                var objTargetSendType = "";
                var objTargetCheckedLength = 0;
                var objTargetValidationType = $("#ddlSelectValidationType"); // Email/Mobile/Fido
                if ($("#chkMail").is(":checked")) {
                    objTargetSendType += "Mail|";
                    objTargetCheckedLength += 1;
                }
                if ($("#chkSMS").is(":checked")) {
                    objTargetSendType += "SMS|";
                    objTargetCheckedLength += 1;
                }
                if ($("#chkMDM").is(":checked")) {
                    objTargetSendType += "MDM|";
                    objTargetCheckedLength += 1;
                }

                if (objTargetID.val() == "") {
                    parent.Common.Warning("필드에 사용자 아이디를 입력하여 주세요.", "Validation Check", function () {
                        objTargetID.focus();
                    });
                    return;
                }
                if (objTargetValidationType.val() != "Fido" && objTargetName.val() == "") {
                    parent.Common.Warning("필드에 이름을 입력하여 주세요.", "Validation Check", function () {
                        objTargetName.focus();
                    });
                    return;
                }

                if (objTargetValidationType.val() != "Fido"&&$("#txtTargetEmail").val() == "" && $("#txtTargetMobile").val() == "") {
                    parent.Common.Warning("외부메일이나 전화번호 값을 입력하여 주세요.", "Validation Check", function () {
                        $("#ddlSelectValidationType").focus();
                    });
                    return;
                }

                if (objTargetSendType == "") {
                    parent.Common.Warning("수신 매체를 하나이상 체크하여 주세요.", "Validation Check", function () {
                    });
                    return;
                }
                var params = {
                    pTargetID: objTargetID.val(),
                    pTargetName: objTargetName.val(),
                    pTargetMobile: objTargetMobile.val(),
                    pTargetEmail: objTargetEmail.val(),
                    pTargetSendType: objTargetSendType,
                    pTargetCheckedLength: objTargetCheckedLength,
                    pTargetValidationType : objTargetValidationType.val()
                };
                parent.Common.Confirm("비밀번호를 초기화 하시겠습니까?", "비밀번호 초기화", function (args) {
                    if(args){
                        $("#hidTargetInfo").val(JSON.stringify(params));
                        if(params.pTargetValidationType == "Fido"){
                            // 생체인증 요청
                            fido_AccessPasswordResetCheck();
                        }else{
                            Common.AlertClose();
                            $("#btn_PasswordReset").click();
                        }
                    }else{
                        Common.AlertClose();
                    }
                },false);
                return;
            };


            var SendTwoFactorOTPNumber = function () {
                $("#btn_SendOTP").click();
            };

            function AES_Encrypt()
            {
                var bCheck = false;
                var AES256_KEY = GetRSAPubKey();
                if (AES256_KEY != "") {
                    AES256_KEY = AES256_KEY.substring(0, 32);
                    GibberishAES.size(256);
                    $("#txtPC_LoginPW").val(GibberishAES.aesEncrypt($("#txtPC_LoginPW").val(), AES256_KEY));
                    bCheck = true;
                } else {
                    Common.Warning("<br/><br/>재 시도 하여 주시기 바랍니다.<br/>(Please try the ashes.)<br/>해당현상이 지속적으로 발생 할 경우 관리자에게 문의하십시요.<br/>(If the symptoms do occur on an ongoing basis, please contact your administrator.)");
                }
                return bCheck;
            }

            function GetRSAPubKey() {
                var sRSAPubKey = "";
                var sURL = "/WebSite/Base/Controls/AnonymousWebService.asmx";
                var oResult = CFN_CallAjaxJson(sURL + "/GetRSAPubKey", "{}", false, null);
                var bSucces = $.parseJSON(oResult).d[0].Value;
                var sResult = $.parseJSON(oResult).d[1].Value;
                if (bSucces.toLowerCase() == "true") {
                    sRSAPubKey = sResult;
                }
                return sRSAPubKey;
            }

            function ddl_ValidationChange(pObj) {
                if (pObj.value == "Email") {
                    $("#trFidoInfo").hide();
                    $("#trTargetName").show();
                    $('#trPasswordReset_Email').show();
                    $("#trPasswordReset_Phone").hide();
                    $("#ex_mail").show();
                    $("#ex_Phone").hide();
                    $("#chkMDM").prop("disabled",false);
                    $("#chkMail").prop("disabled",false);
                }
                else if (pObj.value == "Phone") {
                    $("#trFidoInfo").hide();
                    $("#trTargetName").show();
                    $('#trPasswordReset_Email').hide();
                    $("#trPasswordReset_Phone").show();
                    $("#ex_Phone").show();
                    $("#ex_mail").hide();
                    $("#chkMDM").prop("disabled",false);
                    $("#chkMail").prop("disabled",false);
                }else if (pObj.value == "Fido") {
                    $("#trFidoInfo").show();
                    $("#trTargetName").hide();
                    $('#trPasswordReset_Email').hide();
                    $("#trPasswordReset_Phone").hide();
                    $("#ex_Phone").hide();
                    $("#ex_mail").hide();
                    $("#chkMDM").prop("checked",true).prop("disabled",true);
                    $("#chkMail").prop("checked",false).prop("disabled",true);
                }
            }

            function LoginNoticeLookUp(pFdId, pMsgId){
                var l_url = Common.GetPgModule("NonLoginNotice.View") + "?system=Board&BoardType=Normal&fdid=" + pFdId + "&MsgId=" + pMsgId;
                CFN_OpenWindow(l_url,'PopUp',800,640,'scroll');
            }

            //아이디 찾기/비밀번호 재설정 hih 2022.10.28 추가
            function aInfoMngTab_OnClick(pStrKey){
                if(pStrKey=='1'){
                    $("#aInfoSearchTab1").attr("class","ht_tab_on");
                    $("#aInfoSearchTab2").attr("class","ht_tab_off");
                    $("#DivTab1").show();
                    $("#DivTab2").hide();
                }else{
                    $("#aInfoSearchTab1").attr("class","ht_tab_off");
                    $("#aInfoSearchTab2").attr("class","ht_tab_on");
                    $("#DivTab1").hide();
                    $("#DivTab2").show();
                }
            }

            //아이디 찾기/비밀번호 재설정 hih 2022.10.28 추가
            function sms_send(type) {

                var juminNo = "";
                var userName = "";
                var idNo = "";

                if (type == 'day') {
                    userName = $("#txtUserName").val();

                    if (userName == "") {
                        Common.Inform("이름이 없습니다.");
                        $("#txtUserName").focus();
                        return false;
                    }

                    juminNo = $("#txtJuminNumber").val();
                    if (juminNo == "") {
                        Common.Inform("생년월일이 없습니다.");
                        $("#txtJuminNumber").focus();
                        return false;
                    }
                    if (juminNo.length != 8) {
                        Common.Inform("생년월일은 8자이어야 합니다.");
                        $("#txtJuminNumber").focus();
                        return false;
                    }

                    try {
                        var aXML = "<param><juminNo><![CDATA[" + juminNo + "]]></juminNo></param>";
                        aXML = aXML + "<param><userName><![CDATA[" + userName + "]]></userName></param>";
                        var sXML = "<Items>" + aXML + "</Items>";
                        var szURL = "SMS/authPopup.aspx?sCom_Type=sendSMS&sFlag=juminNo";
                        CFN_CallAjax(szURL, sXML, function (data) {
                            receiveHTTP(data);
                        }, true, "xml");

                        return true;
                    }
                    catch (e) {
                        alert("Error : " + e.description + "\r\nError number: " + e.number);
                        return false;
                    }
                }

                if (type == 'id') {
                    idNo = $("#txtIDNumber").val();
                    if (idNo == "") {
                        Common.Inform("아이디가 없습니다.");
                        return false;
                    }

                    try {
                        var aXML = "<param><idNo><![CDATA[" + idNo + "]]></idNo></param>";
                        var sXML = "<Items>" + aXML + "</Items>";
                        var szURL = "SMS/authPopup.aspx?sCom_Type=sendSMS&sFlag=idNo";
                        CFN_CallAjax(szURL, sXML, function (data) {
                            receiveHTTP(data);
                        }, true, "xml");

                        return true;
                    }
                    catch (e) {
                        alert("Error : " + e.description + "\r\nError number: " + e.number);
                        return false;
                    }
                }
            }

            //아이디 찾기/비밀번호 재설정 hih 2022.10.28 추가
            function receiveHTTP(dataresponseXML) {
                var xmlReturn = dataresponseXML;
                var errorNode = $(xmlReturn).find("response > error");
                if (errorNode.length > 0) {
                    Common.Error("Desc: " + errorNode.text());
                    return;
                } else {
                    if ($(xmlReturn).find("result").text() == "SUCCESS") {
                        Common.Inform("인증번호가 발송 되었습니다.");
                        sms_value(1);
                        $("#showtime").closest("tr").show();
                        t = 100;
                        timer();
                    } else {
                        Common.Inform("인증번호 발송에 실패했습니다.");
                    }
                }
            }

            //아이디 찾기/비밀번호 재설정 hih 2022.10.28 추가
            function sms_value(chk) {
                document.getElementById("sms_chk_next").value = chk;
            }

            //아이디 찾기/비밀번호 재설정 hih 2022.10.28 추가
            function sms_confirm(type) {

                if (document.getElementById("sms_chk_next").value == 0) {
                    Common.Inform("인증번호를 발송해 주세요.");
                    return false;
                }

                var authNum = "";

                if(type == 'day'){
                    if (document.getElementById("sms_num_day").value == "") {
                        Common.Inform("인증번호를 입력해 주세요.");
                        document.getElementById("sms_num_day").focus();
                        return false;
                    }

                    authNum = document.getElementById("sms_num_day").value;
                }

                if (type == 'id') {
                    if (document.getElementById("sms_num_id").value == "") {
                        Common.Inform("인증번호를 입력해 주세요.");
                        document.getElementById("sms_num_id").focus();
                        return false;
                    }

                    authNum = document.getElementById("sms_num_id").value;
                }

                try {                    
                    var aXML = "<param><authNum><![CDATA[" + authNum + "]]></authNum></param>";
                    var sXML = "<Items>" + aXML + "</Items>";
                    var szURL = "SMS/authPopup.aspx?sCom_Type=confirmAuthNum&sType=" + type;
                    CFN_CallAjax(szURL, sXML, function (data) {
                        receiveHTTPConfirm(data, type);
                    }, true, "xml");

                    return true;
                }
                catch (e) {
                    alert("Error : " + e.description + "\r\nError number: " + e.number);
                    return false;
                }
            }

            //아이디 찾기/비밀번호 재설정 hih 2022.10.28 추가
            function receiveHTTPConfirm(dataresponseXML, type) {
                var xmlReturn = dataresponseXML;
                var errorNode = $(xmlReturn).find("response > error");
                if (errorNode.length > 0) {
                    Common.Error("Desc: " + errorNode.text());
                    return;
                } else {
                    if ($(xmlReturn).find("result").text() == "SUCCESS") {

                        if (type == 'day') {
                            document.getElementById("user_id").value = $(xmlReturn).find("desc").text();
                        }

                        if (type == 'id') {
                            Common.Inform("인증이 성공되었습니다. 비밀번호를 변경하십시오.");
                            document.getElementById("txtPassword").value = "";
                            document.getElementById("txtPassword").focus();
                        }

                        if (type == 'pwd') {
                            Common.Inform("비밀번호가 변경되었습니다.");
                            $('#AccessPasswordResetSmsCheck_p').find('.divpop_close').click();
                        }

                    } else {
                        Common.Inform("인증번호가 틀립니다.");

                        if (type == 'day') {
                            document.getElementById("sms_num_day").value = "";
                            document.getElementById("sms_num_day").focus();
                        }

                        if (type == 'id') {
                            document.getElementById("sms_num_id").value = "";
                            document.getElementById("sms_num_id").focus();
                        }

                        if (type == 'pwd') {
                            Common.Inform("비밀번호 변경이 실패하였습니다.\n" + $(xmlReturn).find("desc").text());
                            document.getElementById("txtPassword").value = "";
                            document.getElementById("txtPassword").focus();
                        }
                    }
                }
            }

            //sms 인증하기 
            var t;
            function timer() {
                if (t == 0) {
                    showtime.innerHTML = " 시간초과 재인증 필요합니다.";
                    sms_value(0);
                    return;
                } else {
                    showtime.innerHTML = t + " 초 남았습니다.";
                    t--;
                    setTimeout("timer()", 1000);
                }
            }

            //hih 2022.11.03 비밀번호 재설정 추가
            var _strIsUseComplexity = "Y";
            var _intMinimumLength = "8";

         //hih 2022.11.03 비밀번호 재설정 추가
         function btnChangePassword_OnClick() {

             if (document.getElementById("txtIDNumber").value == "") {
                 //인증번호가 발송된 아이디가 없습니다.
                 Common.Warning('인증번호가 발송된 아이디가 없습니다.', 'Warning Dialog', function () {
                     document.getElementById("txtIDNumber").focus();
                 });
                 return;
             }

             // 새로운 패스워드
             var l_NewPassword = $("#txtPassword").val();

                if ($("#txtPassword").val() == "") {

                    // 새 비밀번호를 입력하여 주십시오.
                    Common.Warning('새 비밀번호를 입력하여 주십시오.', 'Warning Dialog', function () {
                        $("#txtPassword").focus();
                    });
                    return;
                }
                if ($("#txtPassword").val() != $("#txtPasswordConfirm").val()) {
                    // 새 비밀번호와 비밀번호 확인이 일치하지 않습니다.
                    Common.Warning('새 비밀번호와 비밀번호 확인이 일치하지 않습니다.', 'Warning Dialog', function () {
                        $("#txtPasswordConfirm").select();
                    });
                    return;
                }
                if (($("#txtPassword").val().length < parseInt(_intMinimumLength))) {
                    var strBuilder = new StringBuilder();
                    // 암호 최소 길이는 {0}자 이상이여야 합니다.
                    strBuilder.AppendFormat('암호 최소 길이는 {0}자 이상이여야 합니다.', _intMinimumLength);
                    Common.Warning(strBuilder.ToString(), 'Warning Dialog', function () {
                        $("#txtPasswordConfirm").select();
                    });
                    return;
                }

                if ($("#txtPassword").val() != "") {
                    if ($("#txtPassword").val().indexOf(document.getElementById("txtIDNumber").value) > -1) {
                        //로그인 아이디는 암호에 포함될 수 없습니다.
                        Common.Warning('로그인 아이디는 암호에 포함될 수 없습니다.', 'Warning Dialog', function () {
                            $("#txtPassword").select();
                            $("#txtPasswordConfirm").val("");
                        });
                        return;
                    }
                }

                if (CheckDuplicate(l_NewPassword) == "duplicate") {
                    //3개 이상 중복된 문자 또는 숫자는 암호에 포함될 수 없습니다.
                    Common.Warning("<br><br>" + '3개 이상 중복된 문자 또는 숫자는 암호에 포함될 수 없습니다.', 'Warning Dialog', function () {
                        $("#txtPassword").focus();
                            $("#txtPasswordConfirm").val("");
                        });
                        return;
                    }

                    if (CheckDuplicate(l_NewPassword) == "continuous") {
                        //3개 이상 연속된 숫자는 암호에 포함될 수 없습니다.
                        Common.Warning("<br><br>" + '3개 이상 연속된 숫자는 암호에 포함될 수 없습니다.', 'Warning Dialog', function () {
                            $("#txtPassword").focus();
                        $("#txtPasswordConfirm").val("");
                    });
                    return;
                }

                //암호 복잡성 사용시 체크 시작
                if (_strIsUseComplexity == "Y") {
                    // 복잡성 체크(복잡성 갯수 3개 이상)
                    if (CheckComplexity(l_NewPassword) < 3) {
                        Common.Warning("<br><br>" + '영문 대소문자, 숫자, 특수문자 각각 1개 이상 조합하여 사용하셔야 합니다.', 'Warning Dialog', function () {
                            $("#txtPassword").focus();
                        });
                        return;
                    }
                }

                var aXML = "<param><password><![CDATA[" + $("#txtPassword").val() + "]]></password></param>";
                var sXML = "<Items>" + aXML + "</Items>";
                var szURL = "SMS/authPopup.aspx?sCom_Type=confirmAuthNum&sType=pwd";
                CFN_CallAjax(szURL, sXML, function (data) {
                    receiveHTTPConfirm(data, "pwd");
                }, true, "xml");
            }

            //연속, 중복 3개 영문/숫자 체크
            function CheckDuplicate(pPwd) {

                //같은 영문, 숫자 3개 연속 정규식
                var strReturn = "";
                var regExpD = /(\w)\1\1/g;
                //연속된 숫자 3개 정규식 
                var regExpC = /(012)|(123)|(234)|(345)|(456)|(567)|(678)|(789)|(890)|(901)/;

                if (regExpD.test(pPwd)) {
                    strReturn = "duplicate";
                }
                else if (regExpC.test(pPwd)) {
                    strReturn = "continuous";
                }
                return strReturn;
            }

            // 복잡성 체크
            function CheckComplexity(pPwd) {
                var chkArr = new Array();

                var chkNum1 = 0;
                var chkNum2 = 0;
                var chkNum3 = 0;

                var chkSum = 0;

                // 알파벳, 숫자, 기호
                var regExp1 = /^[a-zA-Z]/;
                var regExp2 = /^[0-9]/;
                var regExp3 = /^[!@#$%^*+=-~{|}"."]/;

                // 정규식 패턴 //
                for (var i = 0; i < pPwd.replace(/ /g, "").length; i++) {
                    chkArr[i] = pPwd.charAt(i);
                    if (regExp1.test(chkArr[i])) {
                        chkNum1 = 1;
                        continue;
                    }
                    else if (regExp2.test(chkArr[i])) {
                        chkNum2 = 1;
                        continue;
                    }
                    else if (regExp3.test(chkArr[i])) {
                        chkNum3 = 1;
                        continue;
                    }
                    else if (chkArr[i] == "." || chkArr[i] == "," || chkArr[i] == "~" || chkArr[i] == "[" || chkArr[i] == "]" || chkArr[i] == "(" || chkArr[i] == ")" || chkArr[i] == "&" || chkArr[i] == "-" || chkArr[i] == "/") {
                        chkNum3 = 1;
                        continue;
                    }

                }
                chkSum = chkNum1 + chkNum2 + chkNum3;
                return chkSum;
            }
     </script>
		<form method="post" action="./Login.aspx?isMobile=0" id="form1">
<div class="aspNetHidden">
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUKLTEyNjczNDU2NQ8WAh4TVmFsaWRhdGVSZXF1ZXN0TW9kZQIBFgICAQ9kFgZmDxBkDxYBZhYBEAUJ7ZWc6rWt7Ja0BQJrb2dkZAIMDxBkDxYBZhYBEAUJ7ZWc6rWt7Ja0BQJrb2dkZAIXDxBkDxYCZgIBFgIQBQzsmbjrtoDrqZTsnbwFBUVtYWlsZxAFDOyghO2ZlOuyiO2YuAUFUGhvbmVnZGQYAQUeX19Db250cm9sc1JlcXVpcmVQb3N0QmFja0tleV9fFgUFD2Noa1BDX1NhdmVkSW5mbwUOY2hrTV9TYXZlZEluZm8FBmNoa01ETQUHY2hrTWFpbAUGY2hrU01T9zUB58abIBGeX7jaceB+LhwNebOpM97pCUmJj1lfjkE=" />
</div>

<div class="aspNetHidden">

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="4A80B1D8" />
	<input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="/wEdACxndMnVVOb7M1gogcGaBUDIahuUavcF+PxbNq2PlTwJClJCOblFmYSO3KG0itNDRYtT9OaxvN2m4ih0h1h9DTqV2EjbfNjx72XpcxW7/fEUoSsAeC3Di0cN5JT4ArGKB+VzT8kBQ29wU3c4T3vBn9DTaoHKVihEQKonb+Yc7j1MaqacPLmzs5JuVP2mMD48NyZqx6X+VYNuEx5sQ4zrdvTAan3zvH/TPBZbZYlJYVSDWsGGb1Z3K9eGWd0WkyBZvgVxFANE438dzyVWaNKjhLBuUAconVpdkqOot7PgLzCRm8/7fyWI1qH4UFAE3QVBlvZWvVVZs7MB/oX2uyceg5KhdN2YEd2T658KzURRN1FAZmN6ZYJNGAQHn0c9zMgZU3DL40CVL4yTcW7hcwnRxbY6W0Uf21z7sFUhwmXSY/GexHY2+Mc6SrnAqio3oCKbxYb71YroukRE/j7pqGpPj5LudL9Dm5N7LRB0QbW2FDdfpIvs2MExnuF4S5Uvv7TNk8wjA7pS21KhOZ70O+NgKDYPrUell5zCszTgESX7HoF4/WXbZrP2j/abxxsGBlOB+QTv5v/EMQk5D+Rbnq/l6kKkG+sht8CJ73Yhg5u5eHfL/85m7BuwYiHWa7xCd0lZ9yDfsG03lz1QCrUMMx/4TP6xi/ID3P/TeKHRMf+yyfwgfbSLXkzgF4d6sk6RyoVtDsPmIV+yXoxxoKjYCtk7mecUAPK8fYxATQE3wsLh7LvTVgF/oGCZ6qu2CZjinVEWTsj9yrGteYWQB0GR4v36xGYEDhv5bBBkqMR5oEXl8aafRCGowJ5Gv1RxhEfP7+losB9YOK55BUnyO5p99A5Xd4OEpK76r6akMhzcH///XvgREs5D3cF9uZZsBsa8uwSwXfmM5DREHsFRfxdi8ahU2/ySg10mZHJp6sEDYpBEOKOvJn13dx6Xut7yzJ4jx9lC6gDNxmao2CxW7hR5kzFwo4zE" />
</div>
            <input type="hidden" id="sms_chk_next" value="0"><!-- hih 2022.10.28 추가 -->
            <div id="divUsePC" style="display: none;">
                <div id='wrap'>		
		            <section class="loginContent2">
			            <h1><a href="#" class="covision">covision</a></h1>
			            <div class="title">
				            <p class="title01"></p>
			            </div>
				        <div class="background">
                            <ul class="login_bg">
                                <li class="bg01"></li>
                                <li class="bg02"></li>
                            </ul>
			            </div>
			            <section class="loginCont">
				            <p></p>
				            <article>
					            <article class="loginBox mt20">
						            <article>
							            <p>
								            <strong>GROUPWARE</strong>
								            <br />
								            <strong>SYSTEM</strong>
							            </p>
						            </article>
						            <article class="loginInputCont">
							            <div class="loginSelectCont" style="display:none;">
								            <select name="ddlPC_Language" id="ddlPC_Language" class="selectType05">
	<option value="ko">한국어</option>

</select>
							            </div>
                                        <!-- FIDO tab -->
							            <div class="fidoTab"  style="display:none;">
								            <div>
									            <ul class="FDtabMenu clearFloat">
                                                    
                                                    <li class="FDtabMenuOn"><a href="#">비밀번호</a></li>
                                                    
									            </ul>
								            </div>
							            </div>
                                        <div class="PwLoginInputWrap">
							                <div class="mt15"><input name="txtPC_LoginID" type="text" value="아이디" id="txtPC_LoginID" class="login_input" style="ime-mode:disabled;" /></div>
							                <div class="mt5"><input name="txtPC_LoginPWTemp" type="text" value="비밀번호" id="txtPC_LoginPWTemp" class="login_input" /><input name="txtPC_LoginPW" type="password" id="txtPC_LoginPW" class="login_input_hidden" /></div>
							                <div class="mt20">
                                                <a href="javascript:btnPC_Login_Click()" class="btnLogin" id="btnPWLogin"   >LOGIN</a>
                                                <a href="javascript:btnPC_LoginFIDO_Click()" class="btnLogin" id="btnFIDOLogin"  style="display:none;" >생체인증 로그인</a>
							                </div>
                                        </div>
							            <div class="mt15 loginSetting">
								            <div class="chkStyle07">
									            <span class="checkbox" style="cursor: pointer;"><input id="chkPC_SavedInfo" type="checkbox" name="chkPC_SavedInfo" /></span><label for="chkPC_SavedInfo" style="cursor: pointer;"><span></span>아이디 저장</label>
								            </div>
                                            
								            <div>
									            <a href="#" onclick="SetAccessPasswordResetSmsCheck('true');return false;" class="btnPwReOption">아이디 찾기/비밀번호 재설정</a>
								            </div>
                                            
							            </div>
						            </article>
					            </article>
				            </article>
                            <!-- 비로그인 공지사항 -->				            
                            <article class="loginInfo">
					            <div class="loginNoticeBox" style="display:none;">
						            <div class="loginNoticeTit">공지사항</div>
						                <ul id="loginNoticeList_ulNoticeList" class="loginNoticeCont mScrollV scrollVType01"> 
                                           
</ul>

<script type="text/javascript" language="javascript">

    $(window).load(function () {
        // 비로그인 공지사항 조회 커스텀 스크롤바
        $.mCustomScrollbar.defaults.scrollButtons.enable = true; //enable scrolling buttons by default
        $('#loginNoticeList_ulNoticeList').mCustomScrollbar({
            mouseWheelPixels: 500, scrollInertia: 350,
            advanced: {
                autoScrollOnFocus: false
            }
        });
    });

</script>
					            </div>
					            <p class="copyright">COPYRIGHTⓒ CAU hospital. ALL RIGHTS RESERVED.</p>
				            </article>
                            <!-- 비로그인 공지사항 -->
			            </section>
		            </section>
	            </div>
                <div style="height: 0px; overflow: hidden;">
                    <input type="submit" name="btnPC_Login" value="로그인" id="btnPC_Login" />
                    <input type="submit" name="btnFIDO_Login" value="FIDO" id="btnFIDO_Login" />
                </div>
			</div>


            <div id="divUseMobile" style="display: none;">
                <div class="login" id="divM_Login" style="display: none;">
                    <div class="IDcard">
                        <section>
                            <article>
	                            <div class="login_box">
                                   <div class="LoginH"><img src="/images/mobile/Base_metro/images/login/logo_login.png" alt="coviMobile"></div>
		                            <table class="login_t2" cellpadding="0" cellspacing="0">
		                                <tbody>
			                                <tr>
			                                    <td valign="top" height="44" align="left">
                                                    <input name="txtM_LoginID" type="text" value="아이디" id="txtM_LoginID" style="ime-mode:disabled; width:96%; height: 45px;" />
			                                    </td>
			                                    <td width="10"></td>
			                                    <td rowspan="2" valign="middle"></td>
			                                </tr>
			                                <tr>
			                                    <td valign="top" align="left">
			                                        <input name="txtM_LoginPWTemp" type="text" value="비밀번호" id="txtM_LoginPWTemp" style="width:96%; height: 45px;" />
			                                        <input name="txtM_LoginPW" type="password" id="txtM_LoginPW" style="width:96%; height: 45px; display:none;" />
			                                    <td width="10"></td>
			                                </tr>
			                                <tr>
			                                    <td valign="top" height="15" align="left"></td>
			                                    <td width="10"></td>
			                                    <td rowspan="2" valign="middle"><a href="javascript:btnM_Login_Click();"  class="login_btn">LOGIN</a></td>
			                                </tr>
			                                <tr>
			                                    <td align="left" valign="middle"><span class="SaveID"><input id="chkM_SavedInfo" type="checkbox" name="chkM_SavedInfo" /> 아이디 저장</span></td> 
			                                    <td width="10"></td>
			                                    <td align="left">
                                                    <div id="divM_Language" class="IDLanguage">
                                                    <select name="ddlM_Language" id="ddlM_Language" style="font-size:1em; width:105px;">
	<option value="ko">한국어</option>

</select>
                                                    </div>
                                                </td>
			                                </tr>
		                                </tbody>
		                            </table>
	                            </div>
                            </article>
                        </section>                        
                        <footer class="m" style="display: none;">
	                        <img src="/images/mobile/base/images/login_img.png" alt="" />
	                        <p class="copylight">Copyright CAUHS All Rights Reserved</p>
                        </footer>
                    </div>
                </div>

                <div id="divM_OTP" style="display: none;" class="login">
                    <header>
                        <h1><img src="/images/mobile/base/images/logo_login.png" alt="coviMobile"></h1>
                    </header>
                    <section>
                        <article>
	                        <div class="login_box">
                                <table class="login_t3" cellpadding="0" cellspacing="0">
		                            <thead>
			                            <tr>
			                                <td align="left">인증번호</td>
			                                <td colspan="2" align="left"><input name="txtM_LoginOTP" type="text" id="txtM_LoginOTP" style="width:91%; height: 45px;" /></td>
			                            </tr>
			                            <tr>
			                                <td colspan="3" valign="middle"><a href="javascript:btnOTP_Login_Click();" class="login_btn1">확인</a><a href="javascript:btnOTP_Cancel_Click();" class="login_btn2">취소</a><a href="javascript:btnOTP_ReSend_Click()" class="login_btn3">인증번호 재발송</a></td>
			                            </tr>
			                            <tr>
			                                <td colspan="3" height="2" align="left"><img src="/images/mobile/base/images/login_box_line.png" alt="" class="login_box_line" /></td>
			                            </tr>
		                            </thead>
		                        </table>
		                        <ul class="login_text">
		                            <li>잠시 후 휴대전화로 발송되는 인증번호를 입력하여 사용자 인증을 확인하세요.</li>
		                            <li>회사에 등록된 휴대전화의 번호가 변경되었을 경우, 관리자에게 문의하여 주십시오.</li>
                                </ul>
	                        </div>
                        </article>
                    </section>
                    <footer class="m">
	                    <img src="/images/mobile/base/images/login_img.png" alt="">
	                    <p class="copylight">Copyright CAUHS All Rights Reserved</p>
                    </footer>
                </div>
			    <div style="height: 0px; overflow: hidden;">
				    <input name="txtM_OTP_YN" type="text" value="N" id="txtM_OTP_YN" />
				    <input type="submit" name="btnM_Login" value="로그인" id="btnM_Login" />
				    <input type="submit" name="btnOTP_Login" value="인증번호확인" id="btnOTP_Login" />
			    </div>
            </div>

                        <!-- 아이디 찾기 / 비밀번호 재설정 인증 레이어 팝업 시작 hih 2022.10.27 -->
            <script id="tpl_password_reset_sms_body" type="text/x-template">                        
            <div class="pop_infosearch_mgt" style="width:520px;">
                <div id="ulInfoMngTab" class="ht_tab_wrap">
                    <a href="javascript:aInfoMngTab_OnClick('1');" id="aInfoSearchTab1" class="ht_tab_on">아이디 찾기</a>
                    <a href="javascript:aInfoMngTab_OnClick('2');" id="aInfoSearchTab2" class="ht_tab_off">비밀번호 재설정</a>
                </div>
                <div id="DivTab1">
                <div style="float:left;color:red;padding-bottom:5px;">※ 등록된 이름과 생년월일(8자리)이 일치하는 핸드폰 번호로 인증번호가 전송됩니다.</div>
                    <table class="" cellpadding="0" cellspacing="0" style="width:100%;border-collapse:collapse;">
                        <tbody>
                           <tr>
                                <th scope="row" style="width:30%;background-color:#d9d9d9;">이름</th>
                                <td class="input_td"style="width:40%;">
                                    <div><input name="txtUserName" type="text" id="txtUserName" style="width: 210px;" placeholder="이름 입력" /></div>
                                </td>
                                <td class="input_td"style="width:30%;" rowspan="2">
                                    <div>
                                        <a href="#" style="right: 15px; top: 87px;">
                                            <input type="button" value="인증번호발송" onclick="sms_send('day')" style="cursor:pointer;height: 50px; width: 120px;" />
                                        </a>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" style="width:30%;background-color:#d9d9d9;">생년월일</th>
                                <td class="input_td">
                                    <div>
                                        <input name="txtJuminNumber" type="text" id="txtJuminNumber" style="ime-mode:disabled; width: 210px;" placeholder="예)19000101" />
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" style="background-color:#d9d9d9;">인증번호</th>
                                <td class="input_td" colspan="2">
                                    <div>
                                        <input type="text" id="sms_num_day" style="width:110px;"  placeholder="인증번호입력"/>
                                        <a href="#" style="right: 15px; top: 87px;">
                                        <input type="button" value="인증번호확인" onclick="sms_confirm('day')" style="cursor:pointer;height: 30px; width: 120px;" />
                                        </a>
                                    </div>
                                </td>
                            </tr>                            
                            <tr>
                                <td colspan="3" style="color:blue;border:0;vertical-align: bottom;">※ 인증번호 문자 발송이 최대 1분이 걸릴 수 있으니 기다려 주시면 감사하겠습니다.</td>
                            </tr>
                            <tr>
                                <th scope="row" style="background-color:#d9d9d9;">아이디</th>
                                <td class="input_td" colspan="2">
                                <input type="text" id="user_id" style="width:210px;" placeholder="등록된 아이디"/>
                                </td>
                            </tr>
                        </tbody>        
                    </table>
                    <center>
                        <input class="pop_btn2" type="button" value="닫기" onclick="$('#AccessPasswordResetSmsCheck_p').find('.divpop_close').click();" style="cursor:pointer;height: 30px; width: 120px;" />
                    </center>
                </div>

                <div id="DivTab2" style="display:none;">
                <div style="float:left;color:red;padding-bottom:5px;">※ 등록된 아이디와 일치하는 핸드폰 번호로 인증번호가 전송됩니다.</div>
                    <table class="" cellpadding="0" cellspacing="0" style="width:100%;border-collapse:collapse;">
                        <tbody>
                            <tr>
                                <th scope="row" style="width:30%;background-color:#d9d9d9;">아이디</th>
                                <td class="input_td" style="width:70%;">
                                    <div>
                                    <input name="txtIDNumber" type="text" id="txtIDNumber" style="ime-mode:disabled; width: 110px;" placeholder="아이디 입력" />
                                    <a href="#" style="right: 15px; top: 87px;">
                                    <input type="button" value="인증번호 전송" onclick="sms_send('id')" style="cursor:pointer;height: 30px; width: 120px;" />
                                    </a>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" style="background-color:#d9d9d9;">인증번호</th>
                                <td class="input_td">
                                    <div>
                                    <input type="text" id="sms_num_id" style="width:110px;"  placeholder="인증번호입력"/>
                                    <a href="#" style="right: 15px; top: 87px;">
                                    <input type="button" value="인증번호 확인" onclick="sms_confirm('id')" style="cursor:pointer;height: 30px; width: 120px;" />
                                    </a>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2"  style="color:blue;border:0;vertical-align: bottom;">※ 인증번호 문자 발송이 최대 1분이 걸릴 수 있으니 기다려 주시면 감사하겠습니다.</td>
                            </tr>

                            <tr>
                                <th scope="row" style="background-color:#d9d9d9;">새 비밀번호</th>
                                <td class="input_td">
                                    <div><input name="txtPassword" type="password" id="txtPassword" placeholder="새 비밀번호" style="ime-mode:disabled; width:250px;" /></div>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" style="background-color:#d9d9d9;">새 비밀번호 확인</th>
                                <td class="input_td">
                                    <div><input name="txtPasswordConfirm" type="password" id="txtPasswordConfirm" placeholder="새 비밀번호 확인" style="ime-mode:disabled; width:250px;" /></div>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2" style="color:blue;border:0;vertical-align: bottom;">
※ 비밀번호는 최소 8자 이상으로 영문 대소문자, 숫자, 특수문자 각각 1개 이상 조합하여 사용하셔야 합니다. 또한 동일문자 연속 3개 이상, 연속된 숫자 3개 이상은 사용이 불가합니다. 생년월일, 전화번호 등 개인정보와 관련된 숫자, 연속된 숫자와 같이 쉬운 비밀번호는 다른 사람이 쉽게 알아낼 수 있으니 사용을 자제해 주세요.                
                                </td>
                            </tr>
                        </tbody>        
                    </table>
                    <center>
                        <div class="pop_btn2">
                            <input type="button" value="변경" onclick="btnChangePassword_OnClick()" style="cursor:pointer;height: 30px; width: 120px;" />
                            <input type="button" value="취소" onclick="$('#AccessPasswordResetSmsCheck_p').find('.divpop_close').click();" style="cursor:pointer;height: 30px; width: 120px;" />
                        </div>
                    </center>
                </div>
            </div>
            </script>

            <!-- 투팩터 인증 레이어 팝업 시작 -->
            <script id="tpl_TwoFactorOTP_body" type="text/x-template">                        
            <div id="password_setting1">
	            <div class="pass_title">
	            <h2>OTP 인증</h2>
                </div>
                    <table class="pass_table top_m_16" cellpadding="0" cellspacing="0" border="0">
                    <colgroup>
                    <col>
                    <col>
                    <col>
                    </colgroup>
                        <tbody>
                            <tr>
                            <th scope="row">인증 번호</th>
                                <td class="input_td"><!-- background:#ef9200; color:#fff; -->
                                <div><input name="txtOTPNumber" type="text" id="txtOTPNumber" style="ime-mode:disabled; width: 110px;" />
                                <a href="#" style="position: absolute; right: 15px; top: 87px;"><button type="button" class="btn_orange" style="cursor: pointer;float:right;margin-right:3px; width: 74px;margin-top: 0px !important;margin-left: 5px;" onclick="SendTwoFactorOTPNumber();">OTP 발송</button></a></div>
                                </td>
                            </tr>
                        </tbody>        
                    </table>
                    <div class="pass_btn">
                        <div><a href="#"><button type="button" class="btn_orange" style="cursor: pointer;" onclick="SetTwoFactorOneTimePasswordConfirm();">확인</button></a></div>
                        <div><a href="#"><button type="button" class="btn_gray" style="cursor: pointer;" onclick="$('#TwoFactorOneTimePasswordPopup_p').find('.divpop_close').click();">취소</button></a></div>    
		            </div>
            </div>
            </script>

            <!-- 패스워드 초기화 레이어 팝업 시작 -->
            <script id="tpl_password_reset_body" type="text/x-template">            
            <div id="password_setting">
	            <div class="pass_title">
	            <h2>비밀번호 재설정</h2>
                <span style="margin-left:10px;">
                    <select name="ddlSelectValidationType" id="ddlSelectValidationType" onchange="ddl_ValidationChange(this);">
	<option value="Email">외부메일</option>
	<option value="Phone">전화번호</option>

</select>
                </span>
                <span>(인증방법 선택)</span>
                </div>
                    <table class="pass_table top_m_16" cellpadding="0" cellspacing="0" border="0">
                    <colgroup>
                    <col style="width:20%;">
                    <col>
                    <col>
                    </colgroup>
                        <tbody>
                            <tr>
                            <th scope="row">아이디</th>
                                <td class="input_td">
                                <input id="txtTargetID" name="" type="text" class="input_txt" object_check_id="">
                                </td>
                            </tr>
                            <tr id="trFidoInfo" style="display:none;"><td class="input_td" colspan="2" height="76">모바일 앱을 실행하여 <strong style='color:#666;'>[지문 및 홍채인증]</strong>을 통해<br/> 본인인증을 하여 주십시요.</td></tr>                            
                            <tr id="trTargetName" style="display:none;">
                            <th scope="row">이름</th>
                                <td class="input_td">
                                <input id="txtTargetName" name="" type="text" class="input_txt">
                                </td>
                            </tr>                            
                            <tr id="trPasswordReset_Phone" style="display:none;">
                            <th scope="row">인증 방법</th>
                                <td class="input_td">
                                <input id="txtTargetMobile" name="" type="text" class="input_txt" onkeyup="if (/\D/g.test(this.value)) this.value = this.value.replace(/\D/g,'');">
                                <span class="pw_text" id="ex_Phone" style="display:none;"> 예) 0101234567 </span>
                                </td>
                            </tr>  
                            <tr id="trPasswordReset_Email">
                            <th scope="row">인증 방법</th>
                                <td class="input_td">
                                <input id="txtTargetEmail" name="" type="text" class="input_txt">
                                <span class="pw_text" id="ex_mail">예) user@mail.com</span>
                                </td>
                            </tr>       
                             <tr>
                                <th scope="row">수신 매체</th>
                                <td class="input_td" colspan="3" >
                                <span id="spanMDM"><input name="chkMDM" type="checkbox" id="chkMDM" />모바일 푸시</span>
                                <span id="spanMail"><input name="chkMail" type="checkbox" id="chkMail" />외부메일</span>
                                <span id="spanSMS"><input name="chkSMS" type="checkbox" id="chkSMS" />SMS</span>
                                </td>
                            </tr>
                            <tr id="trPasswordReset_DescriptionEmail">
                                <td class="input_td" colspan="3" style="text-align:center">※ 지정한 매체로 초기화된 비밀번호가 발송됩니다.</td>
                            </tr> 
                            <tr id="trPasswordReset_DescriptionPhone" style="display:none;">
                                <td class="input_td" colspan="3" style="text-align:center">※ 지정한 매체로 초기화된 비밀번호가 발송됩니다.</td>
                            </tr>
                        </tbody>        
                    </table>
                    <div class="pass_btn">
                        <div><a href="#"><button type="button" class="btn_orange" style="cursor: pointer;" onclick="SetAccessPasswordResetCheckConfirm();">확인</button></a></div>  
                        <div><a href="#"><button type="button" class="btn_gray" style="cursor: pointer;" onclick="$('#AccessPasswordResetCheck_p').find('.divpop_close').click();">취소</button></a></div>  
		            </div>
            </div>
        </script>
            
            <!-- 생체인증 로그인 시작 -->
            <script type="text/javascript">
                var g_FidoSiteKey = "nsVTP8oh5x+0aWRA46+R9T7Q7klyppJ67iSRVNvdeJxHeKWcGrTuCQ==";           // 암호화된 인증키 값(파라메터 암호화)
                var g_FidoServiceURL = "http://mp-m-devs.covision.co.kr/WebSite/Base/Fido/";     // 생체인증 API 사이트 URL
                var g_FidoWaitTimeConfig = 3;     // 생체인증 대기시간
                var g_WaitTime = 0;
                var g_WaitTimeBase = g_FidoWaitTimeConfig * 60;
                var g_IntervalFidoReqAuth = null;
                var g_IntervalFidoReqAuthWaitTime = null;

                // 생체인증 PC API 호출
                function fido_CallPCAPI(pReqMode, pCallBack) {
                    var l_url = g_FidoServiceURL + "?";
                    l_url += "SiteKey=" + encodeURIComponent(g_FidoSiteKey);    // 사이트 키
                    l_url += "&AuthKey=" + $("#hidFIDO_AuthKey").val();         // 인증키
                    l_url += "&LogonID=" + $("#txtPC_LoginID").val();        // 로그인 아이디
                    l_url += "&ReqMode=" + pReqMode;        // 요청모드(ReqAuth-인증요청, SuccCheck-인증성공확인, AuthOk-인증성공, AuthCheck-인증검증)
                    l_url += "&AuthType="+$("#hidFIDO_AhthType").val();      // 인증요청 유형(Login-로그인, PwCheck-패스워드체크, Approval-결재, AuthCheck- 기타 본인인증)
                    l_url += "&AuthToken=" + encodeURIComponent($("#hidFIDO_AuthToken").val());    // 인증토큰
                    $.ajax({ url: l_url, dataType: 'jsonp', success: pCallBack });
                }

                // 생체인증 로그인
                function btnPC_LoginFIDO_Click() {
                    var sLoginID = $("#txtPC_LoginID").val();
                    var sLanguage = $("#ddlPC_Language").val();

                    if (!bool_CheckID(sLoginID, sLanguage)) {
                        $("#txtPC_LoginID").focus();
                        return;
                    }

                    if ($("#ddlPC_Language").val() == "ko") {
                        Common.Progress("생체인증을 요청중입니다! 잠시만 기다려주세요.", StartLoginFIDO, 0);
                    } else if ($("#ddlPC_Language").val() == "en") {
                        Common.Progress("During login! Please wait.", StartLoginFIDO, 0);
                    } else if ($("#ddlPC_Language").val() == "ja") {
                        Common.Progress("ログイン ！お待ちください。", StartLoginFIDO, 0);
                    } else if ($("#ddlPC_Language").val() == "zh") {
                        Common.Progress("期间登录 ！请稍候。", StartLoginFIDO, 0);
                    } else {
                        Common.Progress("생체인증을 요청중입니다! 잠시만 기다려주세요.", StartLoginFIDO, 0);
                    }
                    // 화면잠금 해지
                    if (window.localStorage.getItem("ScreenLock" + $("#txtPC_LoginID").val().toLowerCase()) != undefined) {
                        window.localStorage.removeItem("ScreenLock" + $("#txtPC_LoginID").val().toLowerCase());
                    }
                }

                // 생체인증 로그인 수행
                function StartLoginFIDO() {
                    var sLoginID = $("#txtPC_LoginID").val();
                    var sLanguage = $("#ddlPC_Language").val();
                    $("#hidFIDO_AuthKey").val("");
                    $("#hidFIDO_AuthToken").val("");
                    $("#hidFIDO_AhthType").val("Login");
                    // ID 저장 체크 여부에 따른 쿠키 생성
                    var dtExpires = new Date();
                    if ($("#chkPC_SavedInfo").is(":checked")) {
                        dtExpires.setDate(dtExpires.getDate() + 30);
                        CFN_SetCookieDate("LOGINID", $("#txtPC_LoginID").val(), dtExpires);
                        CFN_SetCookieDate("LANG", $("#ddlPC_Language").val(), dtExpires);
                    } else {
                        dtExpires.setDate(dtExpires.getDate() - 30);
                        CFN_SetCookieDate("LOGINID", $("#txtPC_LoginID").val(), dtExpires);
                        CFN_SetCookieDate("LANG", $("#ddlPC_Language").val(), dtExpires);
                    }
                    // 생체인증 요청
                    fido_CallPCAPI("ReqAuth", fido_ReqAuthCallBack);
                }

                // 생체인증 요청 결과 콜백
                function fido_ReqAuthCallBack(pResult) {
                    // 본인인증 요청대기 화면 팝업
                    var popupContents = "<div class='fidopopcont' style='width:350px; height:450px; text-align: center;padding: 15px 23px 22px;font-family: 맑은 고딕, Malgun Gothic,sans-serif, dotum,'돋움',Apple-Gothic;'>";
                    popupContents += " <div>";
                    popupContents += "     <div class='fidoPimg' id='divfidoPimg' style='padding-top: 15px;height: 80px;overflow:hidden;text-align: center;width: 100%;margin: 0 auto;'>";
                    popupContents += "         <div style='width: 220px;height: 65px;margin: 0 auto;text-align: center;'>";
                    popupContents += "             <span style='display: inline-block;height: 65px;float: left;'><img src='/Images/Images/Common/Fido/fido_img_pc.png'></span>";
                    popupContents += "             <span style='display: inline-block;height: 65px;line-height: 65px;margin: 0 20px;float: left;'><img src='/Images/Images/Common/Fido/fido_img_loading.gif'></span>";
                    popupContents += "             <span style='display: inline-block;height: 65px;float: left;'><img src='/Images/Images/Common/Fido/fido_img_mobile01.png'></span>";
                    popupContents += "         </div>";
                    popupContents += "     </div>";
                    popupContents += "     <div class='fidoPtxt01' id='divFidoMessage' style='font-size:20px;height: 54px; margin-top: 20px;line-height:22px;'>모바일 앱으로 사용자 인증이<br />요청되었습니다.</div>";
                    popupContents += " </div>";
                    popupContents += " <div class='fidoPtime' id='divFidoTimeDisplay' style='margin-bottom:20px;'>";
                    popupContents += "     <p style='font-size:13px;line-height:15px; margin: 20px 0 0 0;padding-bottom:10px;'>잔여시간</p>";
                    popupContents += "     <p style='font-size:24px;line-height:26px; margin:0; color: #666;'><strong style='font-size:36px; color:#4abde1;'><span id='spFidoWaitTimeMin'>"+g_FidoWaitTimeConfig+"</span></strong>분 <strong style='font-size:36px; color:#4abde1;'><span id='spFidoWaitTimeSec'>0<span></strong>초</p>";
                    popupContents += " </div>";
                    popupContents += " <div class='fidoPtxt02' id='divFidoMessageDetail' style='line-height:15px;background-color:#f6fafb; padding: 0 20px; width: 350px; height: 102px;display: table-cell;vertical-align: middle;'>";
                    popupContents += "     <span style='font-size:13px; color:#999;'>모바일 앱을 실행하여 <strong style='color:#666;'>[지문 및 홍채인증]</strong>을<br />통해 본인인증을 하여 주십시요.</span>";
                    popupContents += " </div>";
                    popupContents += " <div class='fidoPbtn' style='text-align:center; margin: 25px 0 0 0;'>";
                    popupContents += "     <a  id='btnFidoRequest' href='javascript:fido_ReadMobileAuthSucc();' class='fidoDefault fidobtnTypeBg' style='text-decoration:none; padding: 0 9px 0; display: inline-block; min-width: 40px;text-align: center; height: 30px;line-height: 30px;font-size: 13px;border-radius: 4px; background: #fff !important; border: 1px solid #d0d0d0; color:#000;font-family: 맑은 고딕, Malgun Gothic,sans-serif, dotum,'돋움',Apple-Gothic;'>확인</a>";
                    popupContents += "     <a  id='btnFidoCancel' href='javascript:fido_CancelAuth();' class='fidoDefault' style='text-decoration:none; padding: 0 9px 0; display: inline-block; min-width: 40px;text-align: center; height: 30px;line-height: 30px;font-size: 13px;border-radius: 4px;ackground: #fff !important; border: 1px solid #d0d0d0; color:#000;font-family: 맑은 고딕, Malgun Gothic,sans-serif, dotum,'돋움',Apple-Gothic;' >취소</a>";
                    popupContents += "     <a  id='btnFidoClose' href='javascript:Common.Close(\"popReqAuth\");' class='fidoDefault' style='text-decoration:none; padding: 0 9px 0; display:none; min-width: 40px;text-align: center; height: 30px;line-height: 30px;font-size: 13px;border-radius: 4px;ackground: #fff !important; border: 1px solid #d0d0d0; color:#000;font-family: 맑은 고딕, Malgun Gothic,sans-serif, dotum,'돋움',Apple-Gothic;' >닫기</a>";
                    popupContents += " </div>";
                    popupContents += "</div>";

                    // 요청성공
                    if (pResult.resCode == "00" && pResult.resMessage == "OK") {
                        $("#hidFIDO_AuthKey").val(pResult.authKey);
                        $("#hidFIDO_AuthToken").val(pResult.authToken);
                        g_WaitTime = 0;
                        // 기존 프로그레스 창닫기
                        Common.AlertClose();
                        Common.ShowDialog("ReqAuthCallBack", "popReqAuth", "사용자 생체인증 요청", popupContents, "350", "465", "html");
                        // 보인인증 모바일 성공여부 체크 Looping Start(5초에 한번씩 체크)
                        g_IntervalFidoReqAuth = setInterval("fido_ReadMobileAuthSucc()", 5000);
                        g_IntervalFidoReqAuthWaitTime = setInterval("fido_DisplayWaitTime()", 1000);

                    } else {
                        Common.AlertClose();
                        Common.ShowDialog("ReqAuthCallBack", "popReqAuth", "사용자 생체인증 요청", popupContents, "350", "465", "html");
                        $("#divFidoTimeDisplay").hide();
                        $("#divFidoMessage").html("생체인증 요청이 실패하였습니다.");
                        $("#divFidoMessageDetail").html("[" + pResult.resCode + "]" + pResult.resMessage);
                        $("#divfidoPimg").parent().css("padding-top", "42px")
                        $("#divfidoPimg").html('<div style="width: 65px;height: 65px;margin: 0 auto;text-align: center;"><span style="display: inline-block;height: 65px;float: left;"><img src="/Images/Images/Common/Fido/fido_img_mobile02.png"></span></div>');
                        $("#btnFidoRequest").hide();
                        $("#btnFidoCancel").hide();
                        $("#btnFidoClose").css("display", "inline-block");
                    }
                }

                // 인증 대기시간 표시
                function fido_DisplayWaitTime() {
                    g_WaitTime += 1;
                    var l_WaitTime = g_WaitTimeBase - g_WaitTime;
                    var l_WaitTiemMin = parseInt(l_WaitTime / 60);
                    var l_WaitTimeSec = 0;
                    if (l_WaitTime > 0) {
                        l_WaitTimeSec = l_WaitTime - (l_WaitTiemMin * 60);
                        $("#spFidoWaitTimeMin").html(l_WaitTiemMin);
                        $("#spFidoWaitTimeSec").html(l_WaitTimeSec);
                    }
                    else {
                        $("#spFidoWaitTimeMin").html("00");
                        $("#spFidoWaitTimeSec").html("00");
                    }
                }

                // 모바일에서 생체인증 성공확인
                function fido_ReadMobileAuthSucc() {
                    fido_CallPCAPI("ReadAuth", fido_ReadMobileAuthSuccCallBack);
                }                
                
                // 모바일에서 생체인증 성공확인 결과 콜백
                function fido_ReadMobileAuthSuccCallBack(pResult) {
                    if (pResult.resCode == "00") {
                        // 인증성공
                        if (pResult.resMessage == "Succ") {
                            // 인증확인 인터벌 중지
                            clearInterval(g_IntervalFidoReqAuth);
                            clearInterval(g_IntervalFidoReqAuthWaitTime);
                            if($("#hidFIDO_AhthType").val() == "Login")
                            {
                                // 팝업 인증성공으로 화면 변경
                                Common.Indicator("모바일 생체인증이 확인되었습니다. 로그인합니다.");
                                // 로그인 실행
                                $("#btnFIDO_Login").click();
                            }else if($("#hidFIDO_AhthType").val() == "PwInit"){                                
                                $("#btn_PasswordReset").click();
                            }                            
                        } else if (pResult.resMessage == "Req") {
                            Common.Indicator("모바일 생체인증 확인 대기중입니다.", "", 1000);
                        } else if (pResult.resMessage == "Cancel") {
                            // 인증확인 반복 중지
                            clearInterval(g_IntervalFidoReqAuth);
                            clearInterval(g_IntervalFidoReqAuthWaitTime);
                            // 인증요청창 닫기
                            Common.Close("popReqAuth");
                            Common.Indicator("생체인증 요청이 취소되었습니다.");
                        }
                    } else {
                        // 인증확인 반복 중지
                        clearInterval(g_IntervalFidoReqAuth);
                        clearInterval(g_IntervalFidoReqAuthWaitTime);

                        $("#divFidoTimeDisplay").hide();
                        $("#divFidoMessage").html("생체인증 요청이 실패하였습니다.");
                        $("#divFidoMessageDetail").html("[" + pResult.resCode + "]"+pResult.resMessage);
                        $("#divfidoPimg").parent().css("padding", "42px 0")
                        $("#divfidoPimg").html('<div style="width: 65px;height: 65px;margin: 0 auto;text-align: center;"><span style="display: inline-block;height: 65px;float: left;"><img src="/Images/Images/Common/Fido/fido_img_mobile02.png"></span></div>');
                        $("#btnFidoRequest").hide();
                        $("#btnFidoCancel").hide();
                        $("#btnFidoClose").css("display", "inline-block");
                    }
                }

                //6. PC 사용자에 의한 중도 인증요청 취소 : CancelAuth
                function fido_CancelAuth() {
                    fido_CallPCAPI("CancelAuth", fido_ReadMobileAuthSuccCallBack);
                }                

                // 로그인 방식 변경
                function ChangeLoginType(pType){
                    if(pType == "PW"){
                        $("#tabFidoLogin").removeClass("FDtabMenuOn").addClass("FDtabMenuOff");
                        $("#tabPWLogin").removeClass("FDtabMenuOff").addClass("FDtabMenuOn");
                        $("#btnPWLogin").show();
                        $("#btnFIDOLogin").hide();
                        $("#txtPC_LoginPWTemp").css("display", "");
                    } else {
                        $("#tabFidoLogin").removeClass("FDtabMenuOff").addClass("FDtabMenuOn");
                        $("#tabPWLogin").removeClass("FDtabMenuOn").addClass("FDtabMenuOff");
                        $("#btnFIDOLogin").show();
                        $("#btnPWLogin").hide();
                        $("#txtPC_LoginPWTemp").css("display", "none");
                    }
                    // 로그온 방식 저장
                    window.localStorage.setItem("LogonType", pType);
                }


                // 비밀번호 재설정 Fido 인증
                function fido_AccessPasswordResetCheck() {
                                        
                    if ($("#ddlPC_Language").val() == "ko") {
                        Common.Progress("생체인증을 요청중입니다! 잠시만 기다려주세요.", StartResetPasswordCheckFIDO, 0);
                    } else if ($("#ddlPC_Language").val() == "en") {
                        Common.Progress("During login! Please wait.", StartResetPasswordCheckFIDO, 0);
                    } else if ($("#ddlPC_Language").val() == "ja") {
                        Common.Progress("ログイン ！お待ちください。", StartResetPasswordCheckFIDO, 0);
                    } else if ($("#ddlPC_Language").val() == "zh") {
                        Common.Progress("期间登录 ！请稍候。", StartLoginFIDO, 0);
                    } else {
                        Common.Progress("생체인증을 요청중입니다! 잠시만 기다려주세요.", StartResetPasswordCheckFIDO, 0);
                    }

                    // 화면잠금 해지
                    if (window.localStorage.getItem("ScreenLock" + $("#txtPC_LoginID").val().toLowerCase()) != undefined) {
                        window.localStorage.removeItem("ScreenLock" + $("#txtPC_LoginID").val().toLowerCase());
                    }
                }

                // 생체인증 로그인 수행                
                function StartResetPasswordCheckFIDO() {
                    var sLoginID = $("#txtTargetID").val();
                    $("#txtPC_LoginID").val(sLoginID);
                    $("#hidFIDO_AuthKey").val("");
                    $("#hidFIDO_AuthToken").val("");
                    $("#hidFIDO_AhthType").val("PwInit");
      
                    // 생체인증 요청
                    fido_CallPCAPI("ReqAuth", fido_ReqAuthCallBack);
                }

                

            </script>
            
            <div style="display: none;">
                <input type="hidden" name="hidTargetInfo" id="hidTargetInfo" />
                <input type="hidden" name="hidMessageInfo" id="hidMessageInfo" />
                <input type="hidden" name="hidOTPAuth" id="hidOTPAuth" />
                <input type="hidden" name="hidUniqueID" id="hidUniqueID" />
                <input type="hidden" name="hidRandomValue" id="hidRandomValue" />
                <input type="hidden" name="hidHashValue" id="hidHashValue" />
                <input type="hidden" name="hidAppHashValue" id="hidAppHashValue" />
                <input type="hidden" name="hidSAMLRequest" id="hidSAMLRequest" />
                <input type="hidden" name="hidRelayState" id="hidRelayState" />
                <input type="hidden" name="hidUserAgentInfo" id="hidUserAgentInfo" />
                <input type="hidden" name="hidFIDO_AuthKey" id="hidFIDO_AuthKey" />
                <input type="hidden" name="hidFIDO_AuthToken" id="hidFIDO_AuthToken" />
                <input type="hidden" name="hidFIDO_AhthType" id="hidFIDO_AhthType" />                
                <input type="submit" name="btn_PasswordReset" value="패스워드 변경" id="btn_PasswordReset" />
                <input type="submit" name="btn_OTPAuth" value="TwoFactor 사용자 인증" id="btn_OTPAuth" />
                <input type="submit" name="btn_SendOTP" value="TwoFactor 사용자 인증" id="btn_SendOTP" />            
            </div>
            <!-- 패스워드 초기화 레이어 팝업 끝 -->

		</form>
	</body>
</html>
